{% extends 'base.html' %}

{% block title %}{{ patient.name }} - Patient Details{% endblock %}

{% block content %}
<section class="dashboard">
    <div class="container">
        <div class="dashboard-header">
            <h1>{{ patient.name }}</h1>
            <p>Patient Details and Medical History</p>
            <div class="dashboard-actions">
                <a href="{% url 'view_all_patients' %}" class="btn btn-outline">‚Üê Back to All Patients</a>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon blue">üë§</div>
                    <h2>Patient Information</h2>
                </div>
                
                <div class="form-group">
                    <label>Full Name</label>
                    <p>{{ patient.name }}</p>
                </div>
                
                <div class="form-group">
                    <label>Age</label>
                    <p>{{ patient.age }} years old</p>
                </div>
                
                <div class="form-group">
                    <label>Gender</label>
                    <p>{{ patient.gender|title }}</p>
                </div>
                
                <div class="form-group">
                    <label>Blood Type</label>
                    <div class="role-badge patient">{{ patient.blood_type }}</div>
                </div>
                
                <div class="form-group">
                    <label>Medical History</label>
                    {% if patient.medical_history %}
                        <p>{{ patient.medical_history }}</p>
                    {% else %}
                        <p class="text-muted">No medical history recorded.</p>
                    {% endif %}
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon green">üìÖ</div>
                    <h2>Appointment History</h2>
                </div>
                
                {% if appointments %}
                    {% for appointment in appointments %}
                    <div class="appointment-item">
                        <div class="appointment-info">
                            <h4>{{ appointment.date }} at {{ appointment.time }}</h4>
                            <p><strong>Reason:</strong> {{ appointment.reason }}</p>
                            <p><strong>Status:</strong> 
                                <span class="status-badge {{ appointment.status }}">{{ appointment.status|title }}</span>
                            </p>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="text-center">
                        <p>No appointment history with this patient.</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>
{% endblock %}

